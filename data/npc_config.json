{
  "_schema_version": "1.0",
  "_godot_version": "4.5",
  "_system_id": "S22",
  "_created": "2025-11-18",
  "_description": "NPC system configuration including relationships, schedules, and quest triggers",

  "relationship_config": {
    "thresholds": {
      "stranger": 0,
      "acquaintance": 25,
      "friend": 50,
      "close_friend": 75,
      "best_friend": 100
    },
    "actions": {
      "complete_quest": 10,
      "complete_major_quest": 20,
      "give_gift": 5,
      "give_rare_gift": 15,
      "help_in_combat": 15,
      "save_npc_life": 25,
      "ignore_npc": -2,
      "insult_npc": -10,
      "refuse_quest": -5,
      "attack_npc": -50,
      "betray_npc": -75,
      "daily_greeting": 1,
      "share_meal": 3,
      "listen_to_story": 5,
      "interrupt_rudely": -3,
      "lie_to_npc": -8,
      "tell_truth": 5,
      "keep_promise": 10,
      "break_promise": -15
    }
  },

  "npcs": {
    "elder": {
      "npc_name": "Village Elder",
      "starting_relationship": 50,
      "alignment_preference": "authentic",
      "dialogue_file": "res://src/systems/s22-npc-system/dialogue/elder.dialogue",
      "schedule": [
        {
          "time": "06:00",
          "location": "home",
          "activity": "meditation"
        },
        {
          "time": "08:00",
          "location": "town_square",
          "activity": "council_duties"
        },
        {
          "time": "12:00",
          "location": "town_square",
          "activity": "greeting_visitors"
        },
        {
          "time": "18:00",
          "location": "tavern",
          "activity": "storytelling"
        },
        {
          "time": "22:00",
          "location": "home",
          "activity": "sleep"
        }
      ],
      "quests": [
        {
          "quest_id": "find_lost_necklace",
          "trigger_relationship": 25,
          "trigger_dialogue_flag": "met_elder"
        },
        {
          "quest_id": "restore_harmony",
          "trigger_relationship": 75,
          "trigger_dialogue_flag": "completed_find_lost_necklace"
        }
      ]
    },

    "shopkeeper": {
      "npc_name": "Tech Merchant",
      "starting_relationship": 30,
      "alignment_preference": "algorithmic",
      "dialogue_file": "res://src/systems/s22-npc-system/dialogue/shopkeeper.dialogue",
      "schedule": [
        {
          "time": "08:00",
          "location": "shop",
          "activity": "opening_shop"
        },
        {
          "time": "09:00",
          "location": "shop",
          "activity": "working"
        },
        {
          "time": "18:00",
          "location": "shop",
          "activity": "closing_shop"
        },
        {
          "time": "19:00",
          "location": "home",
          "activity": "inventory_management"
        },
        {
          "time": "23:00",
          "location": "home",
          "activity": "sleep"
        }
      ],
      "quests": [
        {
          "quest_id": "gather_rare_components",
          "trigger_relationship": 40,
          "trigger_dialogue_flag": "met_shopkeeper"
        }
      ]
    },

    "bard": {
      "npc_name": "Wandering Bard",
      "starting_relationship": 60,
      "alignment_preference": "neutral",
      "dialogue_file": "res://src/systems/s22-npc-system/dialogue/bard.dialogue",
      "schedule": [
        {
          "time": "10:00",
          "location": "town_square",
          "activity": "performing"
        },
        {
          "time": "14:00",
          "location": "forest_clearing",
          "activity": "composing"
        },
        {
          "time": "18:00",
          "location": "tavern",
          "activity": "evening_performance"
        },
        {
          "time": "23:00",
          "location": "tavern",
          "activity": "sleep"
        }
      ],
      "quests": [
        {
          "quest_id": "find_ancient_song",
          "trigger_relationship": 50,
          "trigger_dialogue_flag": "heard_bard_perform"
        }
      ]
    },

    "guardian": {
      "npc_name": "Temple Guardian",
      "starting_relationship": 20,
      "alignment_preference": "authentic",
      "dialogue_file": "res://src/systems/s22-npc-system/dialogue/guardian.dialogue",
      "schedule": [
        {
          "time": "00:00",
          "location": "temple_entrance",
          "activity": "guarding"
        },
        {
          "time": "12:00",
          "location": "temple_inner_sanctum",
          "activity": "meditation"
        },
        {
          "time": "13:00",
          "location": "temple_entrance",
          "activity": "guarding"
        }
      ],
      "quests": [
        {
          "quest_id": "prove_your_worth",
          "trigger_relationship": 60,
          "trigger_dialogue_flag": "met_guardian"
        }
      ]
    },

    "researcher": {
      "npc_name": "AI Researcher",
      "starting_relationship": 40,
      "alignment_preference": "algorithmic",
      "dialogue_file": "res://src/systems/s22-npc-system/dialogue/researcher.dialogue",
      "schedule": [
        {
          "time": "07:00",
          "location": "laboratory",
          "activity": "research"
        },
        {
          "time": "12:00",
          "location": "laboratory",
          "activity": "lunch_break"
        },
        {
          "time": "13:00",
          "location": "laboratory",
          "activity": "research"
        },
        {
          "time": "20:00",
          "location": "library",
          "activity": "studying"
        },
        {
          "time": "23:00",
          "location": "home",
          "activity": "sleep"
        }
      ],
      "quests": [
        {
          "quest_id": "collect_data_samples",
          "trigger_relationship": 35,
          "trigger_dialogue_flag": "met_researcher"
        },
        {
          "quest_id": "breakthrough_experiment",
          "trigger_relationship": 70,
          "trigger_dialogue_flag": "completed_collect_data_samples"
        }
      ]
    }
  },

  "dialogue_triggers": {
    "quest_complete": {
      "relationship_change": 10,
      "set_flag": "quest_completed"
    },
    "quest_fail": {
      "relationship_change": -5,
      "set_flag": "quest_failed"
    },
    "gift_accepted": {
      "relationship_change": 5,
      "set_flag": "gave_gift"
    },
    "gift_rejected": {
      "relationship_change": -3,
      "set_flag": "gift_rejected"
    }
  },

  "alignment_reactions": {
    "authentic": {
      "likes": ["authentic", "neutral"],
      "dislikes": ["algorithmic"],
      "bonus_relationship": 5,
      "penalty_relationship": -3
    },
    "algorithmic": {
      "likes": ["algorithmic", "neutral"],
      "dislikes": ["authentic"],
      "bonus_relationship": 5,
      "penalty_relationship": -3
    },
    "neutral": {
      "likes": ["authentic", "algorithmic", "neutral"],
      "dislikes": [],
      "bonus_relationship": 0,
      "penalty_relationship": 0
    }
  },

  "time_periods": {
    "morning": {
      "start": "06:00",
      "end": "12:00",
      "greeting": "Good morning!"
    },
    "afternoon": {
      "start": "12:00",
      "end": "18:00",
      "greeting": "Good afternoon!"
    },
    "evening": {
      "start": "18:00",
      "end": "22:00",
      "greeting": "Good evening!"
    },
    "night": {
      "start": "22:00",
      "end": "06:00",
      "greeting": "Working late?"
    }
  }
}
