{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Rhythm RPG Quality Gates",
  "description": "Quality standards for all game systems. Each system must score 80/100 minimum across 5 dimensions.",
  "version": "1.0.0",
  "created": "2025-11-18",
  "minimum_passing_score": 80,
  "dimensions": {
    "code_quality": {
      "weight": 20,
      "description": "Code clarity, organization, and GDScript 4.5 best practices",
      "criteria": [
        {
          "name": "Type Hints",
          "points": 5,
          "description": "All functions have type hints for parameters and return values"
        },
        {
          "name": "Documentation",
          "points": 5,
          "description": "All public functions have ## docstrings explaining purpose and usage"
        },
        {
          "name": "Naming Conventions",
          "points": 5,
          "description": "snake_case for variables/functions, PascalCase for classes, UPPER_CASE for constants"
        },
        {
          "name": "Code Organization",
          "points": 5,
          "description": "Logical grouping, clear structure, no god classes (>500 lines)"
        }
      ]
    },
    "godot_integration": {
      "weight": 20,
      "description": "Proper use of Godot 4.5 features and patterns",
      "criteria": [
        {
          "name": "Signal Usage",
          "points": 5,
          "description": "Uses signals for decoupling, proper signal naming"
        },
        {
          "name": "Node Lifecycle",
          "points": 5,
          "description": "Correct _ready(), _process(), _physics_process() usage"
        },
        {
          "name": "Resource Management",
          "points": 5,
          "description": "Proper preload/load, no memory leaks, cleanup in _exit_tree()"
        },
        {
          "name": "Godot 4.5 Syntax",
          "points": 5,
          "description": "Uses await (not yield), @export (not export), modern type system"
        }
      ]
    },
    "rhythm_integration": {
      "weight": 20,
      "description": "Integration with Conductor and rhythm mechanics",
      "criteria": [
        {
          "name": "Beat Sync",
          "points": 8,
          "description": "Core actions sync to beat signals from Conductor"
        },
        {
          "name": "Timing Windows",
          "points": 7,
          "description": "Implements timing windows (perfect/good/miss) where applicable"
        },
        {
          "name": "Rhythm Feedback",
          "points": 5,
          "description": "Provides visual/audio feedback for rhythm interactions"
        }
      ]
    },
    "fun_creativity": {
      "weight": 20,
      "description": "Fun factor, polish, and creative implementation",
      "criteria": [
        {
          "name": "Game Feel",
          "points": 8,
          "description": "Satisfying feedback, screen shake, particles, 'juice'"
        },
        {
          "name": "Creative Solutions",
          "points": 7,
          "description": "Innovative mechanics, unique twists, personality"
        },
        {
          "name": "Polish",
          "points": 5,
          "description": "Smooth animations, transitions, edge case handling"
        }
      ]
    },
    "system_integration": {
      "weight": 20,
      "description": "How well the system integrates with other systems",
      "criteria": [
        {
          "name": "Dependency Management",
          "points": 5,
          "description": "Clean dependencies, minimal coupling, clear interfaces"
        },
        {
          "name": "Integration Tests",
          "points": 5,
          "description": "Has integration test in IntegrationTestSuite"
        },
        {
          "name": "Data Flow",
          "points": 5,
          "description": "Clear data flow between systems, no circular dependencies"
        },
        {
          "name": "Error Handling",
          "points": 5,
          "description": "Graceful degradation, helpful error messages, recovery paths"
        }
      ]
    }
  },
  "evaluation_guide": {
    "scoring": {
      "description": "Each criterion is scored as: Full points, Half points, or Zero points",
      "full_points": "Criterion fully met with excellence",
      "half_points": "Criterion partially met or needs minor improvements",
      "zero_points": "Criterion not met or has major issues"
    },
    "thresholds": {
      "excellent": {
        "min_score": 90,
        "description": "üåü Outstanding implementation! Sets the bar for quality."
      },
      "good": {
        "min_score": 80,
        "description": "‚úÖ Meets quality standards. Ready for integration."
      },
      "needs_improvement": {
        "min_score": 60,
        "description": "‚ö†Ô∏è  Below standard. Requires improvements before merge."
      },
      "unacceptable": {
        "max_score": 59,
        "description": "‚ùå Major issues. Needs significant rework."
      }
    }
  },
  "usage_instructions": {
    "when_to_evaluate": [
      "Before marking a system as complete",
      "During code review",
      "As part of CI pipeline",
      "When creating checkpoints"
    ],
    "how_to_score": [
      "1. Read through the implementation",
      "2. Score each criterion (0, half, or full points)",
      "3. Calculate total for each dimension",
      "4. Sum all dimensions for final score (out of 100)",
      "5. System must score 80+ to pass"
    ],
    "documentation": "Record scores in checkpoint .md files under '### Quality Gate Score' section"
  },
  "example_scorecard": {
    "system_id": "S01",
    "system_name": "Conductor",
    "code_quality": {
      "type_hints": 5,
      "documentation": 5,
      "naming_conventions": 5,
      "code_organization": 5,
      "subtotal": 20
    },
    "godot_integration": {
      "signal_usage": 5,
      "node_lifecycle": 5,
      "resource_management": 5,
      "godot_4_5_syntax": 5,
      "subtotal": 20
    },
    "rhythm_integration": {
      "beat_sync": 8,
      "timing_windows": 7,
      "rhythm_feedback": 5,
      "subtotal": 20
    },
    "fun_creativity": {
      "game_feel": 8,
      "creative_solutions": 7,
      "polish": 5,
      "subtotal": 20
    },
    "system_integration": {
      "dependency_management": 5,
      "integration_tests": 5,
      "data_flow": 5,
      "error_handling": 5,
      "subtotal": 20
    },
    "total_score": 100,
    "result": "üåü EXCELLENT",
    "notes": "Perfect implementation with great rhythm feel and creative beat visualization!"
  }
}
